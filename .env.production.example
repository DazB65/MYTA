# MYTA Production Environment Configuration
# This file contains production-specific environment variables
# NEVER commit this file with real values to version control

# =============================================================================
# PRODUCTION ENVIRONMENT SETTINGS
# =============================================================================

# Environment type
ENVIRONMENT=production

# Debug mode (MUST be false in production)
DEBUG=false

# Log level for production
LOG_LEVEL=WARNING

# =============================================================================
# PRODUCTION DATABASE CONFIGURATION
# =============================================================================

# PostgreSQL database for production (recommended)
DATABASE_URL=postgresql://username:password@db-server:5432/myta_production

# Database connection pool settings
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=30
DATABASE_POOL_TIMEOUT=30
DATABASE_POOL_RECYCLE=3600

# Database SSL settings
DATABASE_SSL_MODE=require
DATABASE_SSL_CERT_PATH=/path/to/client-cert.pem
DATABASE_SSL_KEY_PATH=/path/to/client-key.pem
DATABASE_SSL_CA_PATH=/path/to/ca-cert.pem

# =============================================================================
# PRODUCTION REDIS CONFIGURATION
# =============================================================================

# Redis with authentication for production
REDIS_URL=redis://username:password@redis-server:6379/0

# Redis SSL settings
REDIS_SSL=true
REDIS_SSL_CERT_REQS=required
REDIS_SSL_CA_CERTS=/path/to/redis-ca.pem

# Redis connection pool
REDIS_MAX_CONNECTIONS=50
REDIS_RETRY_ON_TIMEOUT=true
REDIS_HEALTH_CHECK_INTERVAL=30

# =============================================================================
# PRODUCTION SECURITY CONFIGURATION
# =============================================================================

# Strong security keys (generate with: openssl rand -hex 32)
BOSS_AGENT_SECRET_KEY=your_production_boss_agent_secret_key_64_chars_here
SESSION_SECRET_KEY=your_production_session_secret_key_64_chars_here

# JWT configuration
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=15
JWT_REFRESH_TOKEN_EXPIRE_DAYS=30

# Encryption keys for sensitive data
ENCRYPTION_KEY=your_base64_encoded_encryption_key_here
ENCRYPTION_SALT=your_unique_salt_for_production

# =============================================================================
# PRODUCTION API KEYS (Use secret management service)
# =============================================================================

# AI/ML API Keys - Store in secret management service
OPENAI_API_KEY=${SECRET_MANAGER:openai-api-key}
ANTHROPIC_API_KEY=${SECRET_MANAGER:anthropic-api-key}
GOOGLE_API_KEY=${SECRET_MANAGER:google-api-key}
GEMINI_API_KEY=${SECRET_MANAGER:gemini-api-key}

# YouTube API
YOUTUBE_API_KEY=${SECRET_MANAGER:youtube-api-key}
YT_API_KEY=${SECRET_MANAGER:youtube-api-key}

# OAuth credentials
GOOGLE_CLIENT_ID=${SECRET_MANAGER:google-oauth-client-id}
GOOGLE_CLIENT_SECRET=${SECRET_MANAGER:google-oauth-client-secret}

# =============================================================================
# PRODUCTION SUPABASE CONFIGURATION
# =============================================================================

# Production Supabase
VITE_SUPABASE_URL=https://your-prod-project.supabase.co
VITE_SUPABASE_ANON_KEY=${SECRET_MANAGER:supabase-anon-key}
SUPABASE_SERVICE_ROLE_KEY=${SECRET_MANAGER:supabase-service-role-key}

# =============================================================================
# PRODUCTION CORS AND SECURITY
# =============================================================================

# Production domains only
CORS_ORIGINS=["https://yourdomain.com","https://www.yourdomain.com","https://api.yourdomain.com"]

# Strict security headers
SECURITY_HEADERS_STRICT=true
CSRF_PROTECTION_STRICT=true

# OAuth redirect URIs for production
OAUTH_REDIRECT_URI=https://yourdomain.com/auth/callback

# =============================================================================
# PRODUCTION SSL/TLS CONFIGURATION
# =============================================================================

# SSL certificate paths
SSL_CERT_PATH=/etc/ssl/certs/yourdomain.com.pem
SSL_KEY_PATH=/etc/ssl/private/yourdomain.com.key
SSL_CA_PATH=/etc/ssl/certs/ca-bundle.pem

# SSL settings
SSL_VERIFY_MODE=CERT_REQUIRED
SSL_CHECK_HOSTNAME=true

# =============================================================================
# PRODUCTION RATE LIMITING
# =============================================================================

# Stricter rate limits for production
RATE_LIMIT_PER_MINUTE=30
RATE_LIMIT_PER_HOUR=500
RATE_LIMIT_PER_DAY=5000

# Rate limiting backend
RATE_LIMIT_BACKEND=redis
RATE_LIMIT_KEY_PREFIX=myta:ratelimit:

# =============================================================================
# PRODUCTION MONITORING AND LOGGING
# =============================================================================

# External logging service
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
SENTRY_ENVIRONMENT=production
SENTRY_TRACES_SAMPLE_RATE=0.1

# Application monitoring
DATADOG_API_KEY=${SECRET_MANAGER:datadog-api-key}
DATADOG_APP_KEY=${SECRET_MANAGER:datadog-app-key}
DATADOG_SERVICE_NAME=myta-backend

# Log aggregation
LOG_AGGREGATION_ENDPOINT=https://logs.yourdomain.com/api/logs
LOG_AGGREGATION_API_KEY=${SECRET_MANAGER:log-aggregation-key}

# =============================================================================
# PRODUCTION SECURITY ALERTING
# =============================================================================

# Enable all security alerts in production
SECURITY_ALERTS_EMAIL_ENABLED=true
SECURITY_ALERTS_SLACK_ENABLED=true
SECURITY_ALERTS_WEBHOOK_ENABLED=true

# Production email settings
SMTP_SERVER=smtp.yourdomain.com
SMTP_PORT=587
SMTP_USERNAME=${SECRET_MANAGER:smtp-username}
SMTP_PASSWORD=${SECRET_MANAGER:smtp-password}
SMTP_USE_TLS=true

# Alert recipients
ALERT_EMAIL_FROM=security@yourdomain.com
ALERT_EMAIL_TO=admin@yourdomain.com,security@yourdomain.com,devops@yourdomain.com

# Slack integration
SLACK_WEBHOOK_URL=${SECRET_MANAGER:slack-webhook-url}

# Security webhook
SECURITY_WEBHOOK_URL=https://monitoring.yourdomain.com/security-webhook

# =============================================================================
# PRODUCTION BACKUP CONFIGURATION
# =============================================================================

# Automated backups
BACKUP_ENABLED=true
BACKUP_FREQUENCY=daily
BACKUP_TIME=02:00
BACKUP_RETENTION_DAYS=30

# Backup storage
BACKUP_STORAGE_TYPE=s3
BACKUP_S3_BUCKET=myta-production-backups
BACKUP_S3_REGION=us-west-2
BACKUP_S3_ACCESS_KEY=${SECRET_MANAGER:backup-s3-access-key}
BACKUP_S3_SECRET_KEY=${SECRET_MANAGER:backup-s3-secret-key}

# Backup encryption
BACKUP_ENCRYPTION_ENABLED=true
BACKUP_ENCRYPTION_KEY=${SECRET_MANAGER:backup-encryption-key}

# =============================================================================
# PRODUCTION PERFORMANCE SETTINGS
# =============================================================================

# Worker processes
WORKER_PROCESSES=4
WORKER_CONNECTIONS=1000
WORKER_TIMEOUT=30

# Caching
CACHE_ENABLED=true
CACHE_DEFAULT_TTL=3600
CACHE_MAX_SIZE=1000000

# Agent system limits
AGENT_CACHE_SIZE=10000
AGENT_CACHE_TTL=3600
MAX_CONCURRENT_AGENTS=20
API_RATE_LIMIT=50

# =============================================================================
# PRODUCTION HEALTH CHECKS
# =============================================================================

# Health check endpoints
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=10

# External health monitoring
HEALTH_CHECK_WEBHOOK=https://monitoring.yourdomain.com/health
HEALTH_CHECK_API_KEY=${SECRET_MANAGER:health-check-api-key}

# =============================================================================
# PRODUCTION FEATURE FLAGS
# =============================================================================

# Feature toggles for production
FEATURE_AI_AGENTS_ENABLED=true
FEATURE_YOUTUBE_INTEGRATION_ENABLED=true
FEATURE_ANALYTICS_ENABLED=true
FEATURE_BACKUP_ENABLED=true
FEATURE_MONITORING_ENABLED=true

# Beta features (disabled by default in production)
FEATURE_BETA_FEATURES_ENABLED=false
FEATURE_DEBUG_ENDPOINTS_ENABLED=false

# =============================================================================
# PRODUCTION COMPLIANCE SETTINGS
# =============================================================================

# Data retention policies
DATA_RETENTION_DAYS=2555  # 7 years for compliance
LOG_RETENTION_DAYS=90
AUDIT_LOG_RETENTION_DAYS=2555

# Privacy settings
GDPR_COMPLIANCE_ENABLED=true
CCPA_COMPLIANCE_ENABLED=true
DATA_ANONYMIZATION_ENABLED=true

# Audit settings
AUDIT_ALL_REQUESTS=true
AUDIT_SENSITIVE_OPERATIONS=true
AUDIT_LOG_ENCRYPTION=true

# =============================================================================
# PRODUCTION DEPLOYMENT SETTINGS
# =============================================================================

# Container settings
CONTAINER_PORT=8000
CONTAINER_WORKERS=4
CONTAINER_MEMORY_LIMIT=2G
CONTAINER_CPU_LIMIT=1000m

# Load balancer settings
LOAD_BALANCER_HEALTH_CHECK_PATH=/health
LOAD_BALANCER_TIMEOUT=30

# Auto-scaling settings
AUTO_SCALE_MIN_INSTANCES=2
AUTO_SCALE_MAX_INSTANCES=10
AUTO_SCALE_TARGET_CPU=70
AUTO_SCALE_TARGET_MEMORY=80
